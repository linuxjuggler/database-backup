#!/usr/bin/env php

<?php
if (file_exists(__DIR__.'/../../../autoload.php')) {
    require __DIR__.'/../../../autoload.php';
} elseif (file_exists(__DIR__.'/../../autoload.php')) {
    require __DIR__.'/../../autoload.php';
} elseif (file_exists(__DIR__.'/../autoload.php')) {
    require __DIR__.'/../autoload.php';
} elseif (file_exists(__DIR__.'/../vendor/autoload.php')) {
    require __DIR__.'/../vendor/autoload.php';
} elseif (file_exists(__DIR__.'/vendor/autoload.php')) {
    require __DIR__.'/vendor/autoload.php';
}

use Symfony\Component\Console\Application;

$app = new Application('Database Backup', '0.1.0');

// Config related commands
$app->add(new Backup\Commands\InitCommand);
$app->add(new Backup\Commands\ConfigBackupCommand);

// Backup related commands
$app->add(new Backup\Commands\BackupCommand);
$app->add(new Backup\Commands\ListBackupCommand);

// Package command
$app->add(new Backup\Commands\PackageCommand);

$app->setAutoExit(true);
$app->run();
